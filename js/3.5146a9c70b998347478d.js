webpackJsonp([3],{"+kOz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cH33"),a=n("LWeP"),l={mixins:[r.a],components:{Xform:a.a},data:function(){return{form:{name:"",price:1,num:0,unit:""}}},computed:{formValid:function(){return this.form.name&&this.form.price>0&&this.form.num>=0}},methods:{handleSave:function(){this.formValid?(this.vuexProjectsPush(this.form),this.vuexProjectsLoad()):this.$message({type:"error",message:"数据校验不通过"})},handleCopy:function(e,t){this.form.name=t.name,this.form.price=t.price,this.form.unit=t.unit},handleEdit:function(e,t){this.$router.push({name:"business-manage-project-edit",params:{id:t.id}})},handleDelete:function(e,t){var n=this;this.$confirm("确定删除"+t.name+"吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.vuexProjectsDelete(t.id),n.vuexProjectsLoad(),n.$message({type:"success",message:t.name+"已经删除"})}).catch(function(){n.$message({type:"info",message:"已取消删除"+t.name})})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Container",[n("Xform",{on:{submit:e.handleSave},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e._v(" "),n("el-table",{attrs:{data:e.vuexProjectsValid,"max-height":"500",size:"mini",stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"price",label:"价格"}}),e._v(" "),n("el-table-column",{attrs:{prop:"num",label:"当前数量"}}),e._v(" "),n("el-table-column",{attrs:{prop:"unit",label:"单位"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleCopy(t.$index,t.row)}}},[e._v("复制")]),e._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},staticRenderFns:[]},u=n("VU/8")(l,i,!1,null,null,null);t.default=u.exports},LWeP:function(e,t,n){"use strict";var r={mixins:[n("v/lQ").a],props:{value:{type:Object,required:!1,default:function(){return{}}},mode:{type:String,required:!1,default:"new"}},data:function(){return{currentValue:{}}},methods:{handleSubmit:function(){this.$emit("submit",this.currentValue),location.reload()}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{inline:!0,model:e.currentValue}},[n("el-form-item",{attrs:{label:"物品名称"}},[n("el-input",{attrs:{placeholder:"物品名称"},model:{value:e.currentValue.name,callback:function(t){e.$set(e.currentValue,"name",t)},expression:"currentValue.name"}})],1),e._v(" "),"new"===e.mode?n("el-form-item",{attrs:{label:"价格"}},[n("el-input-number",{attrs:{step:.1},model:{value:e.currentValue.price,callback:function(t){e.$set(e.currentValue,"price",t)},expression:"currentValue.price"}})],1):e._e(),e._v(" "),"new"===e.mode?n("el-form-item",{attrs:{label:"数量"}},[n("el-input-number",{attrs:{step:1},model:{value:e.currentValue.num,callback:function(t){e.$set(e.currentValue,"num",t)},expression:"currentValue.num"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"单位"}},[n("el-input",{staticStyle:{width:"100px"},model:{value:e.currentValue.unit,callback:function(t){e.$set(e.currentValue,"unit",t)},expression:"currentValue.unit"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)},staticRenderFns:[]},l=n("VU/8")(r,a,!1,null,null,null);t.a=l.exports}});
//# sourceMappingURL=3.5146a9c70b998347478d.js.map