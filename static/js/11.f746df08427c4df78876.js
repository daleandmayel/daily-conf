webpackJsonp([11],{"6DxN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={mixins:[n("cH33").a],methods:{handleResetLocalDB:function(){var e=this;this.$confirm("此操作将会把存在浏览器中的数据清空","重置本地数据库?",{confirmButtonText:"我要清空数据",cancelButtonText:"点错了",type:"warning"}).then(function(){e.vuexResetAll().then(function(){e.vuexLoadAll(),e.$message({message:"重置本地数据库成功",type:"success"})})}).catch(function(){e.$message({type:"info",message:"已取消"})})},handleExport:function(){var e=this;this.$confirm("把本地数据导出成数据文件","提示：",{confirmButtonText:"确认导出",cancelButtonText:"取消",type:"warning"}).then(function(){e.vuexExport().then(function(){e.$message({message:"新建云端备份成功",type:"success"})})}).catch(function(){e.$message({type:"info",message:"已取消"})})},handleImport:function(e){var t=this,n=new FileReader;return n.readAsText(e),n.onload=function(e){t.$confirm("导入数据会覆盖本地数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n=JSON.parse(e.target.result).jsonStr;t.vuexDefault(n),t.vuexLoadAll(),t.$message({message:"导入数据成功",type:"success"})}).catch(function(e){console.log(e),t.$message({type:"info",message:"已取消导入"})})},!1}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-upload",{staticClass:"import-uploader",attrs:{drag:"",action:"default","before-upload":e.handleImport}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[n("span",[e._v("将导出的 data.json 文件拖到此处，或")]),e._v(" "),n("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-upload2"}},[e._v("点击导入")])],1)]),e._v(" "),n("hr"),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.handleResetLocalDB}},[e._v("重置本地数据库")]),e._v(" "),n("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:e.handleExport}},[e._v("数据导出")])],1)},staticRenderFns:[]};var o=n("VU/8")(s,a,!1,function(e){n("t4ai")},null,null);t.default=o.exports},t4ai:function(e,t){}});
//# sourceMappingURL=11.f746df08427c4df78876.js.map